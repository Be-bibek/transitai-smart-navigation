<div align="center">


<div align="center" style="border: 1px solid #ddd; border-radius: 16px; padding: 20px; max-width: 800px; margin: auto;">

<h3>ğŸ¬ Live Demo: AI Transit Guide</h3>

<a href="https://youtu.be/E10vPPAypBg?si=6eYtMk43wsUKIkC-" target="_blank">
  <img src="https://img.youtube.com/vi/E10vPPAypBg/maxresdefault.jpg" 
       width="100%" 
       style="border-radius: 12px;" />
</a>

<p style="margin-top: 10px;">
  A real-time AI-powered assistant demonstrating multilingual voice interaction, AR navigation, and smart guidance in transport environments.
</p>

</div>

<br/>
<br/>

# ğŸ›« TransitAI Platform

### *Next-Generation AI-Powered Virtual Human Assistant Infrastructure*

<br/>

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT)
[![Platform](https://img.shields.io/badge/Platform-Android%20%7C%20iOS%20%7C%20Web-blue?style=for-the-badge)]()
[![Build Status](https://img.shields.io/badge/Build-Passing-brightgreen?style=for-the-badge&logo=github-actions)]()
[![Version](https://img.shields.io/badge/Version-1.0.0--beta-orange?style=for-the-badge)]()
[![PRs Welcome](https://img.shields.io/badge/PRs-Welcome-brightgreen?style=for-the-badge)]()

<br/>

![Unreal Engine](https://img.shields.io/badge/Unreal_Engine-5.5-black?style=flat-square&logo=unrealengine&logoColor=white)
![Flutter](https://img.shields.io/badge/Flutter-3.x-02569B?style=flat-square&logo=flutter&logoColor=white)
![Node.js](https://img.shields.io/badge/Node.js-18+-339933?style=flat-square&logo=nodedotjs&logoColor=white)
![WebRTC](https://img.shields.io/badge/WebRTC-Realtime-red?style=flat-square&logo=webrtc&logoColor=white)
![Convai](https://img.shields.io/badge/Convai-AI_Engine-6C3FC2?style=flat-square)
![Dart](https://img.shields.io/badge/Dart-3.x-0175C2?style=flat-square&logo=dart&logoColor=white)

<br/>

> **"Namaste! Main Aura hoon â€” SkyHigh Airways mein aapka swagat hai."**
>
> *TransitAI redefines public-space human-computer interaction by delivering a real-time, photorealistic,
> AI-driven virtual assistant â€” bridging the gap between digital intelligence and physical environments.*

<br/>

[ğŸ“– Documentation](#-documentation) â€¢ [ğŸš€ Quick Start](#-quick-start) â€¢ [ğŸ—ï¸ Architecture](#ï¸-system-architecture) â€¢ [ğŸ¤ Contributing](#-contributing) â€¢ [ğŸ“„ License](#-license)

</div>

---

## ğŸ“‹ Table of Contents

- [Overview](#-overview)
- [Meet Aura](#-meet-aura--the-virtual-air-hostess)
- [Key Features](#-key-features)
- [System Architecture](#ï¸-system-architecture)
- [Technology Stack](#-technology-stack)
- [Project Structure](#-project-structure)
- [Prerequisites](#-prerequisites)
- [Quick Start](#-quick-start)
- [Module Setup Guides](#-module-setup-guides)
  - [Signaling Server](#1ï¸âƒ£-signaling-server-nodejs)
  - [Flutter Client](#2ï¸âƒ£-flutter-client)
  - [Unreal Engine Avatar](#3ï¸âƒ£-unreal-engine-55--metahuman-setup)
  - [Convai AI Configuration](#4ï¸âƒ£-convai-ai--auras-intelligence)
- [Environment Variables](#-environment-variables)
- [API Reference](#-api-reference)
- [Performance Benchmarks](#-performance-benchmarks)
- [Deployment Guide](#-deployment-guide)
- [Troubleshooting](#-troubleshooting)
- [Roadmap](#-roadmap)
- [Contributing](#-contributing)
- [Security](#-security)
- [Ethics & Privacy](#-ethics--privacy)
- [License](#-license)

---

## ğŸŒ Overview

**TransitAI** is a production-grade, modular, AI-powered virtual human assistant platform engineered for real-time, face-to-face style interactions in high-footfall physical environments â€” including international airports, metro stations, shopping malls, hospitals, and smart city kiosks.

The platform replaces traditional static information kiosks with a **lifelike, conversational MetaHuman avatar** that communicates naturally, responds intelligently, and operates continuously at scale â€” with zero fatigue, zero language barriers, and near-zero latency.

The flagship deployment of TransitAI is **Aura** â€” an AI-powered air hostess for SkyHigh Airways â€” capable of engaging passengers in fluent **Hinglish (Hindi + English)**, providing flight information, safety guidance, navigational assistance, and emotional reassurance, all delivered through a photorealistic Unreal Engine MetaHuman rendered live on a standard smartphone screen.

### Why TransitAI?

| Problem | Traditional Solution | TransitAI Solution |
|--------|---------------------|-------------------|
| Long queues at information desks | Static FAQ kiosks | Real-time AI conversation |
| Language barriers | Multilingual staff (expensive) | Auto language-adaptive AI |
| Staff fatigue & unavailability | Shift rotations | 24/7 always-on virtual assistant |
| Impersonal digital interfaces | Text chatbots | Photorealistic human avatar |
| High operational costs | Large human workforce | Scalable AI deployment |
| Inconsistent service quality | Training programs | Consistent AI personality |

---

## ğŸ­ Meet Aura â€” The Virtual Air Hostess

<div align="center">

> *"Your journey begins the moment you see her smile."*

</div>

Aura is not just a chatbot. She is a fully realized **digital human persona** â€” built with a defined backstory, a professional personality, cultural sensitivity, and domain expertise â€” brought to life through a photorealistic Unreal Engine MetaHuman with real-time facial animation and lip-sync.

### Character Profile

| Attribute | Details |
|-----------|---------|
| ğŸ‘© **Name** | Aura |
| âœˆï¸ **Role** | Lead Cabin Crew â€” SkyHigh Airways |
| ğŸ—£ï¸ **Primary Language** | Hinglish (Hindi + English blend) |
| ğŸ­ **Rendering Engine** | Unreal Engine 5.5 â€” MetaHuman Creator |
| ğŸ§  **AI Engine** | Convai Character AI (NLU + TTS) |
| ğŸ“¡ **Streaming Protocol** | WebRTC Pixel Streaming |
| ğŸ™ï¸ **Voice Profile** | Soft, professional â€” Indian English Female |
| ğŸŒ **Language Adaptation** | Auto-switches Hindi â†” English based on user input |

### Personality Matrix
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AURA'S PERSONALITY                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TRAIT             â”‚  EXPRESSION                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Warmth            â”‚  Greets with "Namaste" â€” always smiles     â”‚
â”‚  Professionalism   â”‚  Clear, concise, accurate responses        â”‚
â”‚  Calmness          â”‚  Composed tone â€” even in crisis queries    â”‚
â”‚  Cultural Respect  â”‚  Uses "Aap" (formal you) in Hindi          â”‚
â”‚  Empathy           â”‚  Detects anxiety â€” shifts to soothing mode â”‚
â”‚  Diplomacy         â”‚  Never rude â€” redirects difficult queries  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Domain Knowledge Areas

- âœ… Passenger greeting and onboarding protocols
- âœ… In-flight safety procedures (seatbelts, oxygen masks, exits)
- âœ… Meal and beverage service information
- âœ… Flight status and gate navigation
- âœ… Medical assistance escalation
- âœ… Baggage and check-in guidance
- âœ… Travel anxiety support and reassurance
- âœ… Duty-free and airport facility directions

### Convai Backstory Configuration

> **ğŸ“‹ Paste this verbatim into Convai Dashboard â†’ Backstory Field:**
```
Name: Aura
Role: Lead Cabin Crew / Air Hostess for SkyHigh Airways.

PERSONALITY:
Aura is the definition of grace and professionalism. She is warm, welcoming,
and incredibly calm â€” even during turbulence. She speaks a beautiful blend of
formal Hindi and professional English (Hinglish). She always puts passenger
safety and comfort first. She never breaks character. She does not discuss
topics outside her role as a cabin crew member.

CORE KNOWLEDGE & RESPONSIBILITIES:
1. Greet every passenger with "Namaste" or "Welcome aboard SkyHigh Airways."
2. Provide detailed information on all safety protocols:
   â€” Seatbelt fastening and when to remain seated
   â€” Oxygen mask deployment procedure
   â€” Emergency exit locations and evacuation protocol
   â€” Electronic device usage policy
3. Provide information on in-flight meals (vegetarian, non-vegetarian, Jain options).
4. Guide passengers to correct gates, lounges, boarding areas, and airport facilities.
5. Assist passengers experiencing medical discomfort using a calm, reassuring tone.
6. Escalate genuine emergencies: "Kripya cabin crew ko bulayein â€” I am alerting our team."

SPEAKING STYLE:
â€” Use polite Hindi words naturally: "Kripya" (Please), "Dhanyawad" (Thank you),
  "Aap" (You - respectful), "Bilkul" (Absolutely), "Zaroor" (Of course).
â€” If the passenger speaks English â†’ respond entirely in English.
â€” If the passenger speaks Hindi â†’ respond entirely in Hindi.
â€” If the passenger mixes both â†’ respond in natural Hinglish.
â€” Always address the passenger as "sir" or "ma'am."
â€” Keep responses concise but warm. Never robotic.

EXAMPLE INTERACTIONS:
Passenger: "Hello Aura!"
Aura: "Namaste! Welcome aboard SkyHigh Airways. Main Aura hoon â€” aapki
       personal cabin crew assistant. Aaj main aapki kya sahayata kar sakti hoon?"

Passenger: "Where is gate 14B?"
Aura: "Gate 14B is located in Terminal 2, Level 3 â€” just past the duty-free zone.
       Please follow the blue directional signs. Shall I repeat the directions?"

Passenger: "Mujhe dar lag raha hai, yeh meri pehli flight hai."
Aura: "Koi baat nahi, sir/ma'am. Hum sabki pehli flight hoti hai! Aap bilkul
       safe hands mein hain. Humara crew highly trained hai. Bas apni seat belt
       bandh rakhein aur enjoy karein apni pehli udaan!"

BEHAVIORAL CONSTRAINTS:
â€” Never be rude or dismissive, regardless of passenger behavior.
â€” If a passenger is difficult: "I understand your concern, sir/ma'am.
  Kripya shant rahein â€” main abhi check karti hoon."
â€” Do not answer questions unrelated to aviation, travel, or airport services.
â€” Do not discuss competitors, politics, religion, or controversial topics.
â€” If unsure about a fact: "Ek moment, sir/ma'am â€” let me verify that for you."
```

---

## âœ¨ Key Features

### Core Capabilities

| Feature | Description | Status |
|---------|-------------|--------|
| ğŸ­ **MetaHuman Avatar** | Photorealistic UE5 character with full facial animation | âœ… Live |
| ğŸ”Š **Real-Time Lip Sync** | Audio-driven mouth movement synced to TTS output | âœ… Live |
| ğŸ§  **Conversational AI** | Convai-powered NLU with contextual memory | âœ… Live |
| ğŸŒ **WebRTC Streaming** | Sub-100ms latency avatar streaming to mobile | âœ… Live |
| ğŸ—£ï¸ **Hinglish NLP** | Bidirectional Hindi â†” English language support | âœ… Live |
| ğŸ“± **Flutter Mobile Client** | Cross-platform iOS & Android support | âœ… Live |
| ğŸ” **Signaling Server** | WebSocket-based WebRTC session management | âœ… Live |
| ğŸ™ï¸ **Voice Input** | Real-time microphone capture and STT processing | âœ… Live |
| ğŸ’¬ **Text Fallback** | Text input mode for noisy environments | âœ… Live |
| ğŸŒ™ **Idle Animations** | Natural breathing and blinking when not speaking | ğŸ”„ Beta |
| ğŸ“Š **Analytics Dashboard** | Interaction logs and session metrics | ğŸ”„ Beta |
| ğŸŒ **Multilingual Expansion** | Tamil, Bengali, Marathi, Gujarati | âœ…live |
| ğŸ”Œ **Offline Edge Mode** | On-device AI inference without internet | ğŸ“… Planned |

### Performance Characteristics
```
âš¡ Streaming Latency:      < 80ms   (LAN) / < 150ms  (4G LTE)
ğŸ™ï¸ STT Processing:         < 300ms
ğŸ¤– AI Response Generation: < 500ms
ğŸ”Š TTS + Lip Sync Sync:    < 200ms
ğŸ“± App Cold Start:          < 2.5s
ğŸ­ Avatar Frame Rate:       60 FPS  (target) / 30 FPS (minimum)
ğŸ’¾ Client Memory Footprint: ~180MB  (Flutter App)
```

---

## ğŸ—ï¸ System Architecture

### High-Level Architecture Diagram
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        TRANSITAI PLATFORM                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘   â”‚   ğŸ“± FLUTTER CLIENT  â”‚         â”‚    ğŸ¤– CONVAI AI ENGINE       â”‚   â•‘
â•‘   â”‚   (Mobile App)       â”‚         â”‚                             â”‚   â•‘
â•‘   â”‚                      â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚         â”‚  â”‚   NLU   â”‚ â”‚   TTS    â”‚  â”‚   â•‘
â•‘   â”‚  â”‚ WebRTC Video â”‚    â”‚         â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘   â”‚  â”‚   Receiver   â”‚    â”‚         â”‚       â”‚            â”‚        â”‚   â•‘
â•‘   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚         â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”‚   â•‘
â•‘   â”‚         â”‚            â”‚         â”‚  â”‚  Character Context     â”‚ â”‚   â•‘
â•‘   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”    â”‚         â”‚  â”‚  Memory & Personality  â”‚ â”‚   â•‘
â•‘   â”‚  â”‚ Mic Capture  â”‚    â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â•‘
â•‘   â”‚  â”‚ (STT Input)  â”‚    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                        â”‚  HTTPS API      â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚                 â•‘
â•‘             â”‚  WebSocket                          â”‚                 â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                 â•‘
â•‘   â”‚           ğŸ“¡ SIGNALING SERVER              â”‚   â”‚                 â•‘
â•‘   â”‚              (Node.js / ws)                â”‚   â”‚                 â•‘
â•‘   â”‚                                            â”‚   â”‚                 â•‘
â•‘   â”‚   ICE Candidate Exchange & SDP Negotiation â”‚   â”‚                 â•‘
â•‘   â”‚   Session Management & Routing             â”‚   â”‚                 â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                â•‘
â•‘                         â”‚  WebRTC (Pixel Streaming) â”‚                â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                â•‘
â•‘   â”‚       ğŸ­ UNREAL ENGINE 5.5 SERVER            â”‚   â”‚                â•‘
â•‘   â”‚                                              â”‚   â”‚                â•‘
â•‘   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚                â•‘
â•‘   â”‚  â”‚  MetaHuman   â”‚   â”‚  Pixel Streaming     â”‚ â”‚   â”‚                â•‘
â•‘   â”‚  â”‚   Renderer   â”‚â—„â”€â”€â”‚  Plugin (H.264)      â”‚ â”‚   â”‚                â•‘
â•‘   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚                â•‘
â•‘   â”‚         â”‚                                    â”‚   â”‚                â•‘
â•‘   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚                â•‘
â•‘   â”‚  â”‚ Animation Blueprint       â”‚               â”‚   â”‚                â•‘
â•‘   â”‚  â”‚ Lip Sync + Facial Rig     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜                â•‘
â•‘   â”‚  â”‚ (Convai UE5 Component)    â”‚   Audio Data  â”‚                    â•‘
â•‘   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚                    â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â•‘
â•‘                                                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Data Flow â€” End-to-End Interaction Pipeline
```
 USER SPEAKS
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flutter Mic Input  â”‚  â”€â”€â”€ Raw audio captured via flutter_webrtc
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STT Processing    â”‚  â”€â”€â”€ Convai SDK converts speech to text
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Convai NLU Engine â”‚  â”€â”€â”€ Intent detection + context resolution
â”‚  (Character: Aura) â”‚  â”€â”€â”€ Personality filter applied
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Response Generatorâ”‚  â”€â”€â”€ Hinglish response constructed
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TTS Synthesis     â”‚  â”€â”€â”€ Text converted to audio waveform
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UE5 Convai Plugin â”‚  â”€â”€â”€ Audio + viseme data sent to MetaHuman
â”‚  Lip Sync Engine   â”‚  â”€â”€â”€ Facial animation blueprint activated
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pixel Streaming   â”‚  â”€â”€â”€ H.264 video encoded and transmitted
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚  WebRTC
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flutter Display   â”‚  â”€â”€â”€ User sees and hears Aura respond
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
     USER RECEIVES
     AURA'S RESPONSE
```

### Network Topology
```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚        CLOUD / SERVER        â”‚
                    â”‚                              â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚Signaling â”‚ â”‚  UE5     â”‚  â”‚
  ğŸ“± Mobile Client â”€â”¼â”€â–ºâ”‚  Server  â”‚ â”‚  Server  â”‚  â”‚
  (Flutter App)     â”‚  â”‚ :8080    â”‚ â”‚  :8888   â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚       â”‚            â”‚         â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚    Internal Network     â”‚  â”‚
                    â”‚  â”‚    (Docker Bridge)      â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ HTTPS / WSS
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       CONVAI CLOUD API       â”‚
                    â”‚   api.convai.com             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Technology Stack

### Full Stack Overview
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND LAYER                           â”‚
â”‚  Flutter 3.x (Dart)  |  flutter_webrtc  |  Provider        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    RENDERING LAYER                          â”‚
â”‚  Unreal Engine 5.5  |  MetaHuman Creator  |  Pixel Stream   â”‚
â”‚  Animation Blueprints  |  Live Link  |  Convai UE5 Plugin   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  COMMUNICATION LAYER                        â”‚
â”‚  WebRTC  |  Node.js (ws)  |  ICE/STUN/TURN                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  AI INTELLIGENCE LAYER                      â”‚
â”‚  Convai Character AI  |  NLU  |  TTS  |  STT               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   INFRASTRUCTURE LAYER                      â”‚
â”‚  Docker  |  Nginx  |  Ubuntu 22.04 LTS  |  GitHub Actions   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dependency Matrix

| Category | Technology | Version | Purpose |
|----------|-----------|---------|---------|
| **Avatar Engine** | Unreal Engine | 5.5+ | MetaHuman rendering |
| **Avatar Character** | MetaHuman Creator | Latest | Realistic character mesh |
| **Avatar AI Plugin** | Convai UE5 Plugin | 3.x | In-engine AI + lip sync |
| **Mobile Framework** | Flutter | 3.16+ | Cross-platform UI |
| **Mobile Language** | Dart | 3.2+ | App logic |
| **Mobile WebRTC** | flutter_webrtc | 0.9.x | Video streaming client |
| **Mobile Sockets** | web_socket_channel | 2.4.x | Signaling communication |
| **Signaling Runtime** | Node.js | 18 LTS | WebSocket server |
| **Signaling Library** | ws (npm) | 8.x | WebSocket implementation |
| **AI Engine** | Convai API | v1 | Character intelligence |
| **Streaming Protocol** | WebRTC | RFC 8829 | Real-time media |
| **Video Codec** | H.264 | â€” | Pixel Streaming compression |
| **Containerization** | Docker | 24+ | Service isolation |
| **Reverse Proxy** | Nginx | 1.24+ | SSL termination + routing |
| **CI/CD** | GitHub Actions | â€” | Automated testing + deploy |

---

## ğŸ“ Project Structure
```
transitai-platform/
â”‚
â”œâ”€â”€ ğŸ“± flutter_client/                    # Mobile Application (Flutter)
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ main.dart                     # App entry point
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ app_constants.dart    # WebRTC URLs, API keys (env)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ui_constants.dart     # Colors, fonts, sizes
â”‚   â”‚   â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ app_theme.dart        # Material theme config
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”‚       â”œâ”€â”€ logger.dart           # Centralized logging
â”‚   â”‚   â”‚       â””â”€â”€ permission_helper.dart# Mic & camera permissions
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ pixel_streaming_service.dart  # WebRTC + Pixel Streaming
â”‚   â”‚   â”‚   â”œâ”€â”€ signaling_service.dart        # WebSocket signaling
â”‚   â”‚   â”‚   â”œâ”€â”€ audio_service.dart            # Mic capture & STT
â”‚   â”‚   â”‚   â””â”€â”€ session_service.dart          # Session lifecycle
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â”œâ”€â”€ connection_provider.dart  # WebRTC state management
â”‚   â”‚   â”‚   â””â”€â”€ chat_provider.dart        # Conversation state
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”‚   â”œâ”€â”€ splash_screen.dart        # Animated splash + init
â”‚   â”‚   â”‚   â”œâ”€â”€ home_screen.dart          # Main interaction screen
â”‚   â”‚   â”‚   â””â”€â”€ error_screen.dart         # Connection failure UI
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ widgets/
â”‚   â”‚       â”œâ”€â”€ avatar_view.dart          # RTCVideoRenderer widget
â”‚   â”‚       â”œâ”€â”€ mic_button.dart           # Animated mic control
â”‚   â”‚       â”œâ”€â”€ chat_overlay.dart         # Text input fallback
â”‚   â”‚       â””â”€â”€ status_indicator.dart     # Connection status badge
â”‚   â”‚
â”‚   â”œâ”€â”€ android/                          # Android platform config
â”‚   â”œâ”€â”€ ios/                              # iOS platform config
â”‚   â”œâ”€â”€ pubspec.yaml                      # Dependencies manifest
â”‚   â”œâ”€â”€ pubspec.lock                      # Locked dependency versions
â”‚   â”œâ”€â”€ analysis_options.yaml             # Linting rules
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ ğŸ­ unreal_avatar/                     # Unreal Engine 5.5 Project
â”‚   â”‚
â”‚   â”œâ”€â”€ Config/
â”‚   â”‚   â”œâ”€â”€ DefaultEngine.ini             # Engine config + Pixel Streaming
â”‚   â”‚   â”œâ”€â”€ DefaultGame.ini               # Game settings
â”‚   â”‚   â””â”€â”€ DefaultInput.ini              # Input mappings
â”‚   â”‚
â”‚   â”œâ”€â”€ Content/
â”‚   â”‚   â”œâ”€â”€ MetaHuman/
â”‚   â”‚   â”‚   â”œâ”€â”€ Aura/                     # Aura character assets
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BP_Aura.uasset        # Aura Blueprint Actor
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Aura_Face.uasset      # Facial mesh
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Aura_Body.uasset      # Body mesh (minimal)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Aura_Material.uasset  # PBR materials
â”‚   â”‚   â”‚   â””â”€â”€ Common/                   # Shared MetaHuman assets
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Animations/
â”‚   â”‚   â”‚   â”œâ”€â”€ ABP_Aura.uasset           # Animation Blueprint
â”‚   â”‚   â”‚   â”œâ”€â”€ Idle_Breathing.uasset     # Idle animation
â”‚   â”‚   â”‚   â”œâ”€â”€ Idle_Blink.uasset         # Eye blink cycle
â”‚   â”‚   â”‚   â”œâ”€â”€ Talking_Gestures.uasset   # Speaking gestures
â”‚   â”‚   â”‚   â””â”€â”€ LipSync/                  # Viseme animation set
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Maps/
â”‚   â”‚   â”‚   â”œâ”€â”€ MainScene.umap            # Primary interaction scene
â”‚   â”‚   â”‚   â””â”€â”€ StreamingLevel.umap       # Optimized streaming map
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Blueprints/
â”‚   â”‚   â”‚   â”œâ”€â”€ BP_GameMode.uasset        # Custom game mode
â”‚   â”‚   â”‚   â””â”€â”€ BP_ConvaiManager.uasset   # Convai integration BP
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Lighting/
â”‚   â”‚       â”œâ”€â”€ HDRI_Airport.uasset       # Airport environment HDRI
â”‚   â”‚       â””â”€â”€ BP_StudioLighting.uasset  # Professional lighting rig
â”‚   â”‚
â”‚   â”œâ”€â”€ Plugins/
â”‚   â”‚   â””â”€â”€ ConvaiPlugin/                 # Convai UE5 Plugin (submodule)
â”‚   â”‚
â”‚   â””â”€â”€ TransitAI.uproject
â”‚
â”œâ”€â”€ ğŸ“¡ signaling_server/                  # Node.js Signaling Server
â”‚   â”‚
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ server.js                     # Main WebSocket server
â”‚   â”‚   â”œâ”€â”€ session_manager.js            # Connection session tracking
â”‚   â”‚   â”œâ”€â”€ ice_handler.js                # ICE candidate relay logic
â”‚   â”‚   â””â”€â”€ sdp_handler.js                # SDP offer/answer exchange
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config.js                     # Port, STUN/TURN config
â”‚   â”‚
â”‚   â”œâ”€â”€ logs/                             # Runtime log files
â”‚   â”œâ”€â”€ .env.example                      # Environment variable template
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ package-lock.json
â”‚   â”œâ”€â”€ Dockerfile                        # Containerization
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ ğŸ³ docker/                            # Docker configuration
â”‚   â”œâ”€â”€ docker-compose.yml                # Full stack orchestration
â”‚   â”œâ”€â”€ docker-compose.prod.yml           # Production overrides
â”‚   â””â”€â”€ nginx/
â”‚       â”œâ”€â”€ nginx.conf                    # Reverse proxy config
â”‚       â””â”€â”€ ssl/                          # SSL certificates (gitignored)
â”‚
â”œâ”€â”€ ğŸ” .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ flutter_ci.yml                # Flutter test + build pipeline
â”‚       â”œâ”€â”€ server_ci.yml                 # Node.js test + deploy pipeline
â”‚       â””â”€â”€ release.yml                   # Versioned release automation
â”‚
â”œâ”€â”€ ğŸ“š docs/
â”‚   â”œâ”€â”€ architecture.md                   # Detailed architecture docs
â”‚   â”œâ”€â”€ workflow.md                       # Interaction flow documentation
â”‚   â”œâ”€â”€ convai_setup.md                   # Convai configuration guide
â”‚   â”œâ”€â”€ ue5_setup.md                      # Unreal Engine setup guide
â”‚   â”œâ”€â”€ deployment.md                     # Production deployment guide
â”‚   â”œâ”€â”€ api_reference.md                  # Signaling API reference
â”‚   â””â”€â”€ diagrams/
â”‚       â”œâ”€â”€ architecture.drawio
â”‚       â”œâ”€â”€ data_flow.drawio
â”‚       â””â”€â”€ network_topology.drawio
â”‚
â”œâ”€â”€ ğŸ§ª tests/
â”‚   â”œâ”€â”€ flutter_client/                   # Widget + unit tests
â”‚   â””â”€â”€ signaling_server/                 # Server unit tests
â”‚
â”œâ”€â”€ ğŸ–¼ï¸ assets/
â”‚   â”œâ”€â”€ screenshots/
â”‚   â”‚   â”œâ”€â”€ banner.png
â”‚   â”‚   â”œâ”€â”€ aura_demo.png
â”‚   â”‚   â””â”€â”€ flutter_ui.png
â”‚   â””â”€â”€ demo/
â”‚       â”œâ”€â”€ demo_airport.gif
â”‚       â””â”€â”€ demo_conversation.mp4
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .gitmodules                           # Convai plugin submodule
â”œâ”€â”€ .env.example                          # Root environment template
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ CONTRIBUTING.md
â”œâ”€â”€ SECURITY.md
â””â”€â”€ README.md                             # â† You are here
```

---

## ğŸ“‹ Prerequisites

Before you begin, ensure you have the following installed and configured:

### System Requirements

| Component | Minimum | Recommended |
|-----------|---------|-------------|
| **OS** | Windows 10 64-bit | Windows 11 / Ubuntu 22.04 LTS |
| **RAM** | 16 GB | 32 GB |
| **GPU** | NVIDIA GTX 1070 (8GB VRAM) | NVIDIA RTX 3080 (10GB+ VRAM) |
| **CPU** | Intel i7-8th Gen | Intel i9 / AMD Ryzen 9 |
| **Storage** | 100 GB SSD | 200 GB NVMe SSD |
| **Network** | 100 Mbps | 1 Gbps (LAN for development) |

### Required Software
```bash
# Check versions after installing:

node --version          # Required: v18.0.0+
npm --version           # Required: v9.0.0+
flutter --version       # Required: 3.16.0+
dart --version          # Required: 3.2.0+
docker --version        # Required: 24.0.0+
docker compose version  # Required: v2.0.0+
git --version           # Required: 2.40+
git lfs --version       # Required: 3.0+ (for UE5 assets)
```

### External Accounts Required

| Service | Purpose | URL |
|---------|---------|-----|
| **Convai** | AI character engine + API key | [convai.com](https://convai.com) |
| **Epic Games** | Unreal Engine + MetaHuman | [unrealengine.com](https://unrealengine.com) |
| **GitHub** | Repository + LFS | [github.com](https://github.com) |

---

## ğŸš€ Quick Start
```bash
# 1. Clone the repository with submodules
git clone --recurse-submodules https://github.com/yourusername/transitai-platform.git
cd transitai-platform

# 2. Install Git LFS for Unreal Engine assets
git lfs install
git lfs pull

# 3. Copy environment configuration
cp .env.example .env
# Edit .env with your API keys and server URLs

# 4. Start infrastructure with Docker
docker compose up -d signaling_server

# 5. Run Flutter client
cd flutter_client && flutter pub get && flutter run

# 6. Open Unreal Engine project
# Open unreal_avatar/TransitAI.uproject in UE 5.5
# Press â–¶ Play â€” Aura is live!
```

---

## ğŸ“¦ Module Setup Guides

### 1ï¸âƒ£ Signaling Server (Node.js)

The signaling server is the backbone of WebRTC session establishment. It handles SDP negotiation and ICE candidate exchange between the Flutter client and Unreal Engine Pixel Streaming instance.
```bash
cd signaling_server

# Install dependencies
npm install

# Copy and configure environment
cp .env.example .env
```

**`.env` Configuration:**
```env
PORT=8080
NODE_ENV=development
LOG_LEVEL=info
STUN_SERVER=stun:stun.l.google.com:19302
TURN_SERVER=                          # Optional: your TURN server
TURN_USERNAME=                        # Optional
TURN_PASSWORD=                        # Optional
MAX_SESSIONS=50
SESSION_TIMEOUT_MS=300000
```
```bash
# Development mode (with nodemon auto-reload)
npm run dev

# Production mode
npm start

# Run tests
npm test

# Docker (recommended for production)
docker build -t transitai-signaling .
docker run -p 8080:8080 --env-file .env transitai-signaling
```

**Verify server is running:**
```bash
curl -X GET http://localhost:8080/health
# Expected: {"status":"ok","sessions":0,"uptime":12.5}
```

---

### 2ï¸âƒ£ Flutter Client

The Flutter application serves as the user-facing interface â€” capturing voice, displaying the streamed MetaHuman avatar, and managing WebRTC session state.
```bash
cd flutter_client

# Install Flutter dependencies
flutter pub get

# Verify Flutter setup
flutter doctor

# Copy and configure environment
cp .env.example .env
```

**`lib/core/constants/app_constants.dart`:**
```dart
class AppConstants {
  // Signaling Server
  static const String signalingUrl = 'ws://YOUR_SERVER_IP:8080';
  
  // Pixel Streaming
  static const String pixelStreamingUrl = 'ws://YOUR_SERVER_IP:8888';
  
  // STUN/TURN
  static const List<Map<String, String>> iceServers = [
    {'urls': 'stun:stun.l.google.com:19302'},
    // Add TURN server if deploying to production
  ];
  
  // UI
  static const String appName = 'TransitAI â€” Aura';
  static const Duration connectionTimeout = Duration(seconds: 10);
}
```
```bash
# Run on connected device
flutter run

# Build for Android release
flutter build apk --release

# Build for iOS release
flutter build ios --release

# Run tests
flutter test

# Analyze code
flutter analyze
```

**Required Permissions (`AndroidManifest.xml`):**
```xml
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.RECORD_AUDIO"/>
<uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS"/>
<uses-permission android:name="android.permission.CAMERA"/>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
```

---

### 3ï¸âƒ£ Unreal Engine 5.5 â€” MetaHuman Setup

#### Step 1: Plugin Installation
```
Edit â†’ Plugins â†’ Search "Pixel Streaming" â†’ âœ… Enable â†’ Restart Editor
Edit â†’ Plugins â†’ Search "Convai" â†’ âœ… Enable â†’ Restart Editor
```

#### Step 2: Pixel Streaming Launch Arguments

Add to `DefaultEngine.ini`:
```ini
[/Script/PixelStreaming.PixelStreamingSettings]
bCaptureUseFence=True

[SystemSettings]
r.StreamingPoolSize=2000
r.Shadow.MaxResolution=1024
sg.ShadowQuality=2
```

Launch Unreal Engine with these arguments:
```
-PixelStreamingIP=0.0.0.0
-PixelStreamingPort=8888
-RenderOffscreen
-Unattended
-NullRHI=false
-ResX=1280
-ResY=720
-TargetedNativeAdaptiveTimingUpdateRateSec=0
```

#### Step 3: Convai Component Setup
```
1. Select BP_Aura in World Outliner
2. In Details Panel â†’ Add Component â†’ Search "Convai Chatbot"
3. In Convai Chatbot component settings:
   â”œâ”€â”€ Character ID: [paste from Convai dashboard]
   â”œâ”€â”€ API Key: [paste from Convai dashboard]
   â”œâ”€â”€ Enable Voice Response: âœ… True
   â””â”€â”€ Enable LipSync: âœ… True
4. Click Compile â†’ Save All
```

#### Step 4: Lighting Configuration (Professional Studio Look)
```
World Settings:
â””â”€â”€ Lightmass â†’ Static Lighting Level Scale: 0.5

Add to scene:
â”œâ”€â”€ Directional Light (Key Light)
â”‚   â”œâ”€â”€ Intensity: 8 lux
â”‚   â”œâ”€â”€ Color: Warm white (#FFF5E0)
â”‚   â””â”€â”€ Angle: 45Â° from avatar front-left
â”œâ”€â”€ Sky Light
â”‚   â”œâ”€â”€ Source Type: SLS Specified Cubemap
â”‚   â””â”€â”€ Intensity: 2.0
â”œâ”€â”€ Point Light (Fill Light â€” right side)
â”‚   â”œâ”€â”€ Intensity: 3 lux
â”‚   â””â”€â”€ Color: Cool white (#E0F0FF)
â””â”€â”€ Post Process Volume (Unbounded)
    â”œâ”€â”€ Bloom: Intensity 0.3
    â”œâ”€â”€ Vignette: 0.2
    â””â”€â”€ Color Grading: Contrast +0.05
```

#### Step 5: Performance Optimization (16GB RAM)
```ini
# Add to DefaultEngine.ini
[/Script/Engine.RendererSettings]
r.DefaultFeature.AntiAliasing=2
r.MSAACount=2
r.TemporalAA.Upsampling=1

# Reduce MetaHuman LOD for performance
[MetaHuman]
LODMode=Performance
bUseBodyMesh=False
bUseFaceOnly=True
```

---

### 4ï¸âƒ£ Convai AI â€” Aura's Intelligence

#### Dashboard Configuration Steps
```
1. Log in at: https://convai.com/dashboard
2. Click "Create Character" â†’ Name: "Aura"
3. Paste the full backstory from the "Meet Aura" section above
4. Voice Settings:
   â”œâ”€â”€ Gender: Female
   â”œâ”€â”€ Accent: Indian English
   â”œâ”€â”€ Tone: Soft / Professional
   â””â”€â”€ Speed: 0.95 (slightly slower for clarity)
5. Language: Hindi (Primary) â€” for accurate lip-sync phoneme mapping
6. Click "Save" â†’ Copy your Character ID
7. Paste Character ID into Unreal Engine Convai component
```

#### Testing Aura in Convai Playground

Try these test phrases before going live:
```
ğŸ§ª "Hello Aura! Namaste."
   Expected: Warm Hinglish greeting + introduction

ğŸ§ª "Mera seatbelt kaam nahi kar raha."
   Expected: Calm safety assistance in Hindi

ğŸ§ª "What is for dinner today?"
   Expected: Meal options in English â€” professional tone

ğŸ§ª "Main bohot ghabra raha hoon, yeh meri pehli flight hai."
   Expected: Empathetic reassurance in Hindi/Hinglish

ğŸ§ª "Where is the emergency exit?"
   Expected: Clear safety directions in English

ğŸ§ª "What is your name?"
   Expected: Should maintain persona as "Aura from SkyHigh Airways"
```

---

## ğŸ” Environment Variables

### Root `.env.example`
```env
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#           TRANSITAI PLATFORM CONFIG
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# --- Signaling Server ---
SIGNALING_PORT=8080
SIGNALING_HOST=0.0.0.0
NODE_ENV=production

# --- Unreal Engine Pixel Streaming ---
UE5_PIXEL_STREAMING_PORT=8888
UE5_HOST=localhost

# --- Convai AI ---
CONVAI_API_KEY=your_convai_api_key_here
CONVAI_CHARACTER_ID=your_character_id_here

# --- WebRTC ICE Configuration ---
STUN_SERVER_URL=stun:stun.l.google.com:19302
TURN_SERVER_URL=
TURN_USERNAME=
TURN_CREDENTIAL=

# --- Session Management ---
MAX_CONCURRENT_SESSIONS=50
SESSION_TIMEOUT_MS=300000

# --- Logging ---
LOG_LEVEL=info
LOG_TO_FILE=true

# --- SSL (Production) ---
SSL_CERT_PATH=/etc/ssl/certs/transitai.crt
SSL_KEY_PATH=/etc/ssl/private/transitai.key
```

> âš ï¸ **NEVER commit your `.env` file.** It is included in `.gitignore` by default.

---

## ğŸ“¡ API Reference

### Signaling Server WebSocket Protocol

**Connection:** `ws://HOST:PORT`

#### Messages â€” Client â†’ Server
```json
// Initiate session
{
  "type": "join",
  "sessionId": "uuid-v4",
  "role": "client"
}

// Send SDP Offer
{
  "type": "offer",
  "sessionId": "uuid-v4",
  "sdp": "v=0\r\no=- ..."
}

// Send ICE Candidate
{
  "type": "ice_candidate",
  "sessionId": "uuid-v4",
  "candidate": {
    "candidate": "candidate:...",
    "sdpMLineIndex": 0,
    "sdpMid": "0"
  }
}
```

#### Messages â€” Server â†’ Client
```json
// Session confirmed
{
  "type": "joined",
  "sessionId": "uuid-v4",
  "streamerCount": 1
}

// SDP Answer from UE5
{
  "type": "answer",
  "sessionId": "uuid-v4",
  "sdp": "v=0\r\no=- ..."
}

// ICE Candidate from UE5
{
  "type": "ice_candidate",
  "sessionId": "uuid-v4",
  "candidate": { ... }
}

// Error
{
  "type": "error",
  "code": "NO_STREAMER_AVAILABLE",
  "message": "No Unreal Engine instance is currently streaming."
}
```

#### REST Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/health` | Server health check |
| GET | `/sessions` | Active session count |
| DELETE | `/sessions/:id` | Force close a session |

---

## ğŸ“Š Performance Benchmarks

### Latency Measurements (Development Environment)
```
Test Configuration:
â”œâ”€â”€ Server: Intel i9-12900K, RTX 3080, 32GB RAM
â”œâ”€â”€ Client: Samsung Galaxy S22 (WiFi 6)
â””â”€â”€ Network: Local LAN (1 Gbps)

Results:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Metric                                â”‚  Avg Latency â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  WebRTC Connection Establishment       â”‚  1.2s        â”‚
â”‚  Pixel Streaming First Frame           â”‚  0.8s        â”‚
â”‚  Speech â†’ STT â†’ Text                   â”‚  280ms       â”‚
â”‚  Convai NLU Processing                 â”‚  420ms       â”‚
â”‚  TTS Generation                        â”‚  190ms       â”‚
â”‚  Lip Sync Activation                   â”‚  < 1 frame   â”‚
â”‚  Total: User speaks â†’ Aura responds    â”‚  ~900ms      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Resource Utilization (16GB RAM System)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component                  â”‚  RAM    â”‚  GPU    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Unreal Engine (UE5)        â”‚  6.2 GB â”‚  4.8 GB â”‚
â”‚  MetaHuman (Face Only)      â”‚  0.8 GB â”‚  1.2 GB â”‚
â”‚  Pixel Streaming Plugin     â”‚  0.4 GB â”‚  0.6 GB â”‚
â”‚  Node.js Signaling Server   â”‚  0.1 GB â”‚  â€”      â”‚
â”‚  System Reserved            â”‚  2.0 GB â”‚  â€”      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TOTAL                      â”‚  9.5 GB â”‚  6.6 GB â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ³ Deployment Guide

### Docker Compose (Full Stack)
```yaml
# docker/docker-compose.prod.yml

version: '3.8'

services:
  signaling_server:
    build:
      context: ../signaling_server
      dockerfile: Dockerfile
    container_name: transitai_signaling
    restart: always
    ports:
      - "8080:8080"
    env_file:
      - ../.env
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - transitai_network

  nginx:
    image: nginx:1.24-alpine
    container_name: transitai_nginx
    restart: always
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
      - ./nginx/ssl:/etc/ssl/transitai:ro
    depends_on:
      - signaling_server
    networks:
      - transitai_network

networks:
  transitai_network:
    driver: bridge
```
```bash
# Deploy production stack
docker compose -f docker/docker-compose.prod.yml up -d

# View logs
docker compose -f docker/docker-compose.prod.yml logs -f

# Scale signaling server
docker compose -f docker/docker-compose.prod.yml up -d --scale signaling_server=3
```

### Nginx SSL Configuration
```nginx
# docker/nginx/nginx.conf

events { worker_connections 1024; }

http {
    upstream signaling {
        server signaling_server:8080;
    }

    server {
        listen 80;
        server_name your-domain.com;
        return 301 https://$host$request_uri;
    }

    server {
        listen 443 ssl;
        server_name your-domain.com;

        ssl_certificate     /etc/ssl/transitai/transitai.crt;
        ssl_certificate_key /etc/ssl/transitai/transitai.key;
        ssl_protocols       TLSv1.2 TLSv1.3;

        # WebSocket Signaling
        location /ws {
            proxy_pass http://signaling;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            proxy_set_header Host $host;
            proxy_read_timeout 86400;
        }

        # Health Check
        location /health {
            proxy_pass http://signaling;
        }
    }
}
```

---

## ğŸ”§ Troubleshooting

### Common Issues and Resolutions

| Symptom | Likely Cause | Resolution |
|---------|-------------|------------|
| ğŸ”‡ Mouth moves, no audio | Wrong default mic in Windows | Settings â†’ Sound â†’ Input â†’ Select correct microphone |
| â¬› Black screen on Flutter | Pixel Streaming not started | Confirm UE5 is running with `-PixelStreamingPort=8888` |
| ğŸ“¡ WebRTC connection fails | Signaling server unreachable | Run `curl http://SERVER:8080/health` â€” check firewall rules |
| ğŸŒ High latency (>2s) | Network/GPU bottleneck | Reduce UE5 resolution, enable `sg.ShadowQuality=1` |
| ğŸ’¾ UE5 crashes (RAM) | Insufficient RAM for full MetaHuman | Use face-only mesh, disable Body LODs |
| ğŸ¤– Convai not responding | Invalid Character ID or API key | Re-check credentials in UE5 Convai component |
| ğŸ­ Lip sync out of sync | Audio buffer mismatch | Restart UE5 + signaling server in sequence |
| ğŸ“± Flutter build fails | Dependency version conflict | Run `flutter pub upgrade` then `flutter clean && flutter pub get` |
| ğŸ” SSL handshake error | Certificate mismatch | Verify `server_name` in nginx.conf matches your domain |

### Diagnostic Commands
```bash
# Check signaling server health
curl http://localhost:8080/health

# Monitor WebSocket connections
ws://localhost:8080  # Connect with wscat: npx wscat -c ws://localhost:8080

# Check Node.js process
pm2 status         # If using PM2
docker logs transitai_signaling  # If using Docker

# Flutter diagnostics
flutter doctor -v
flutter analyze

# Network port check
netstat -an | grep 8080   # Signaling
netstat -an | grep 8888   # Pixel Streaming
```

---

## ğŸ—ºï¸ Roadmap
```
CURRENT VERSION: v1.0.0-beta
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… v1.0.0  â€” Core Platform
   â”œâ”€â”€ MetaHuman avatar (Aura) with Hinglish AI
   â”œâ”€â”€ WebRTC Pixel Streaming pipeline
   â”œâ”€â”€ Flutter mobile client
   â””â”€â”€ Node.js signaling server

ğŸ”„ v1.1.0  â€” Enhanced Intelligence (Q3 2025)
   â”œâ”€â”€ Emotion-aware responses (detect anxious passengers)
   â”œâ”€â”€ Idle animation system (breathing, micro-expressions)
   â”œâ”€â”€ Session analytics dashboard
   â””â”€â”€ Admin control panel (change character, knowledge base)

ğŸ“… v1.2.0  â€” Multilingual Expansion (Q4 2025)
   â”œâ”€â”€ Tamil language support
   â”œâ”€â”€ Bengali language support
   â”œâ”€â”€ Marathi & Gujarati support
   â””â”€â”€ Auto language detection

ğŸ“… v2.0.0  â€” Enterprise Deployment (Q1 2026)
   â”œâ”€â”€ Multi-kiosk load balancing
   â”œâ”€â”€ On-premise deployment support
   â”œâ”€â”€ Custom MetaHuman skin system
   â”œâ”€â”€ Integration with real-time flight data APIs
   â””â”€â”€ Hospital & metro rail persona variants

ğŸ“… v2.5.0  â€” Edge AI (Q3 2026)
   â”œâ”€â”€ On-device inference (no internet required)
   â”œâ”€â”€ Raspberry Pi 5 compatible lite mode
   â””â”€â”€ Offline knowledge base for airports
```

---

## ğŸ¤ Contributing

We welcome contributions from the community! Please read our [Contributing Guidelines](CONTRIBUTING.md) before submitting pull requests.

### Development Workflow
```bash
# 1. Fork the repository on GitHub

# 2. Clone your fork
git clone https://github.com/YOUR_USERNAME/transitai-platform.git
cd transitai-platform

# 3. Create a feature branch
git checkout -b feature/your-feature-name

# 4. Make your changes and test
flutter test          # For Flutter changes
npm test              # For signaling server changes

# 5. Commit with conventional commit format
git commit -m "feat(flutter): add text input fallback mode"
git commit -m "fix(signaling): resolve ICE candidate race condition"
git commit -m "docs(readme): update deployment instructions"

# 6. Push and open a Pull Request
git push origin feature/your-feature-name
```

### Commit Convention

| Prefix | Usage |
|--------|-------|
| `feat` | New feature |
| `fix` | Bug fix |
| `docs` | Documentation only |
| `perf` | Performance improvement |
| `refactor` | Code refactor |
| `test` | Adding tests |
| `chore` | Build/config changes |

---

## ğŸ”’ Security

Please review our [Security Policy](SECURITY.md) for reporting vulnerabilities.

### Security Practices

- API keys and credentials are managed via environment variables â€” never hardcoded
- WebSocket connections are upgraded to WSS (TLS) in production via Nginx
- Convai API calls are proxied through the server â€” keys never exposed to mobile client
- No passenger voice data is retained after session termination
- Session tokens are UUID v4 and expire after 5 minutes of inactivity
- Rate limiting is enforced at the Nginx level (60 requests/minute per IP)

---

## ğŸ§¬ Ethics & Privacy

TransitAI is built with responsible AI principles embedded from the ground up.

| Principle | Implementation |
|-----------|---------------|
| **Transparency** | Aura introduces herself as an AI assistant |
| **Data Minimization** | Voice audio is processed and immediately discarded |
| **No PII Storage** | No passenger names, voices, or queries are stored |
| **Human Override** | Physical staff can always intervene and override Aura |
| **Consent** | On-screen notification informs users of AI interaction |
| **Safety First** | Emergency queries are escalated to human staff protocols |
| **Bias Mitigation** | Convai character is regularly audited for response fairness |

---

## ğŸ“„ License
```
MIT License

Copyright (c) 2025 TransitAI Platform

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
```

---

## ğŸ™ Acknowledgements

- [Epic Games](https://epicgames.com) â€” Unreal Engine 5 & MetaHuman Creator
- [Convai](https://convai.com) â€” Conversational AI & Character Engine
- [Flutter Team](https://flutter.dev) â€” Cross-platform mobile framework
- [WebRTC Project](https://webrtc.org) â€” Real-time communication protocol
- [Node.js Foundation](https://nodejs.org) â€” JavaScript runtime

---

<div align="center">

<br/>

**Built with â¤ï¸ for the future of human-AI interaction in public spaces**

<br/>

*"Aapka safar shubh ho. Have a wonderful flight."* âœˆï¸

<br/>

[![GitHub Stars](https://img.shields.io/github/stars/yourusername/transitai-platform?style=social)](https://github.com/yourusername/transitai-platform)
[![GitHub Forks](https://img.shields.io/github/forks/yourusername/transitai-platform?style=social)](https://github.com/yourusername/transitai-platform/fork)
[![GitHub Watchers](https://img.shields.io/github/watchers/yourusername/transitai-platform?style=social)](https://github.com/yourusername/transitai-platform)

<br/>

*TransitAI Platform â€” v1.0.0-beta | MIT License | Â© 2025*

</div>
